<%- include('partials/header.ejs'); -%>

<div class="container mt-4">
  <h1>My Book Notes</h1>

  <div class="mb-3">
    <a href="/add" class="btn btn-primary">Add New Book</a>
    <a href="/favorites" class="btn btn-info">Favorites</a>
    <a href="/to-read" class="btn btn-warning">To Read</a>
    <a href="/" class="btn btn-secondary">All Books</a>
  </div>

  <div class="row">
    <% books.forEach(book => { %>
      <div class="col-md-4 mb-4">
        <div class="card h-100">
          <img src="<%= book.cover_url %>" class="card-img-top book-cover" alt="<%= book.title %> cover">
          <div class="card-body">
            <h5 class="card-title"><%= book.title %></h5>
            <p class="card-text">Author: <%= book.author %></p>
            <p class="card-text">Rating: <%= book.rating %></p>
            <p class="card-text">Read Date: <%= new Date(book.read_date).toLocaleDateString() %></p>
            <p class="card-text"><%- book.favorite ? '<span class="badge bg-success">Favorite</span>' : '' %></p>
            <p class="card-text"><%- book.to_read ? '<span class="badge bg-warning text-dark">To Read</span>' : '' %></p>
          </div>
          <div class="card-footer">
            <a href="/edit/<%= book.id %>" class="btn btn-secondary">Edit</a>
          </div>
        </div>
      </div>
    <% }) %>
  </div>
</div>

<%- include('partials/footer.ejs'); -%>
